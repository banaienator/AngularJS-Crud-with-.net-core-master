"use strict";var app=angular.module("app",["ngRoute","ui.router"]);app.config(function(n){n.when("/employee",{name:"employee",title:"کارمندان",templateUrl:"pages/employee/employee.html",controller:"employee_controller"}).when("/manager",{name:"manager",title:"مدیران",templateUrl:"pages/manager/manager.html",controller:"manager_controller"}).when("/homepage",{name:"homepage",title:"صفحه اصلی",templateUrl:"pages/homepage/homepage.html",controller:"home_controller"}).otherwise({redirectTo:"/homepage"})}).run(["$rootScope","$route",function(n,t){n.$on("$routeChangeSuccess",function(){document.title=t.current.title})}]).controller("home_controller",function(n){n.message="صفحه اصلی "});app.controller("employee_controller",function(n,t){n.phoneNumbr=/09(1[0-9]|3[1-9]|2[1-9])-?[0-9]{3}-?[0-9]{4}/;n.load_employee=function(){t.get("/employee/get_all_employees").then(function(t){n.employees=t.data}).catch(function(n){console.log(n)})};n.delete_employee=function(i){confirm("از حذف مطمئنید؟")&&t.post("/employee/delete_employee?id="+i).then(function(t){var i=t.data;i.isOK?(alert(i.message),n.reset()):alert("در عملیات حذف خطایی رخ داده است")})};n.add_employee=function(){n.new_employee=!0;document.title="افزودن کارمند جدید"};n.edit_employee=function(i){t.get("/employee/get_employee?id="+i).then(function(t){n.employee=t.data;document.title="ویرایش کارمند جدید"}).catch(function(n){console.log(n)})};n.reset=function(){n.employee=null;n.new_employee=!1;n.load_employee();document.title="کارمندان"};n.save_employee=function(){t({method:"post",url:"/employee/add_or_update_employee",dataType:"json",params:n.employee,headers:{"Content-Type":"application/json"}}).then(function(t){var i=t.data;i.isOK?(alert(i.message),n.reset()):alert("در عملیات ثبت خطایی رخ داده است")})};n.load_employee()});app.controller("manager_controller",function(n,t){n.phoneNumbr=/09(1[0-9]|3[1-9]|2[1-9])-?[0-9]{3}-?[0-9]{4}/;n.load_manager=function(){t.get("/manager/get_all_managers").then(function(t){n.managers=t.data}).catch(function(n){console.log(n)})};n.delete_manager=function(i){confirm("از حذف مطمئنید؟")&&t.post("/manager/delete_manager?id="+i).then(function(t){var i=t.data;i.isOK?(alert(i.message),n.reset()):alert("در عملیات حذف خطایی رخ داده است")})};n.add_manager=function(){n.new_manager=!0;document.title="افزودن مدیر جدید"};n.edit_manager=function(i){t.get("/manager/get_manager?id="+i).then(function(t){n.manager=t.data;document.title="ویرایش مدیر جدید"}).catch(function(n){console.log(n)})};n.reset=function(){n.manager=null;n.new_manager=!1;n.load_manager();document.title="مدیران"};n.save_manager=function(){t({method:"post",url:"/manager/add_or_update_manager",dataType:"json",params:n.manager,headers:{"Content-Type":"application/json"}}).then(function(t){var i=t.data;i.isOK?(alert(i.message),n.reset()):alert("در عملیات ثبت خطایی رخ داده است")})};n.load_manager()});